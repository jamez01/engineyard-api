JSON_LOG=%q{{"logs":{"main":"[Wed, 19 Jun 2013 10:43:45 -0700] INFO: Starting Chef Solo Run\n[Wed, 19 Jun 2013 10:43:46 -0700] INFO: Mounting devices for kernel 2.6.18-xenU-ec2-v1.0\n[Wed, 19 Jun 2013 10:43:46 -0700] INFO: 2.6.18 kernel detected, old mount style\n[Wed, 19 Jun 2013 10:43:46 -0700] INFO: {\"MANPATH\"=>\n  \"/etc/java-config-2/current-system-vm/man:/usr/local/share/man:/usr/share/man:/usr/share/binutils-data/i686-pc-linux-gnu/2.18/man:/usr/share/gcc-data/i686-pc-linux-gnu/4.1.2/man:/etc/java-config/system-vm/man/:/usr/share/postgresql-8.3/man:/usr/lib/erlang/man\",\n \"SHELL\"=>\"/bin/bash\",\n \"SSH_CLIENT\"=>\"10.126.111.89 61337 22\",\n \"USER\"=>\"root\",\n \"CONFIG_PROTECT_MASK\"=>\n  \"/etc/env.d/java/ /etc/udev/rules.d /etc/fonts/fonts.conf /etc/terminfo /etc/eselect/postgresql /etc/ca-certificates.conf /etc/revdep-rebuild\",\n \"PAGER\"=>\"/usr/bin/less\",\n \"RACK_ENV\"=>\"production\",\n \"MAIL\"=>\"/var/mail/root\",\n \"PATH\"=>\n  \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.1.2:/usr/lib/subversion/bin:/usr/local/ey_resin/bin\",\n \"_\"=>\"/usr/local/ey_resin/bin/chef-solo\",\n \"PWD\"=>\"/root\",\n \"JAVA_HOME\"=>\"/etc/java-config-2/current-system-vm\",\n \"EDITOR\"=>\"/usr/bin/vim\",\n \"JAVAC\"=>\"/etc/java-config-2/current-system-vm/bin/javac\",\n \"LANG\"=>\"en_US.utf8\",\n \"MERB_ENV\"=>\"production\",\n \"SHLVL\"=>\"3\",\n \"HOME\"=>\"/root\",\n \"MANPAGER\"=>\"less -R\",\n \"JDK_HOME\"=>\"/etc/java-config-2/current-system-vm\",\n \"RAILS_ENV\"=>\"production\",\n \"LOGNAME\"=>\"root\",\n \"LESS\"=>\"-R -M --shift 5\",\n \"CVS_RSH\"=>\"ssh\",\n \"GCC_SPECS\"=>\"\",\n \"SSH_CONNECTION\"=>\"10.126.111.89 61337 10.244.82.173 22\",\n \"CLASSPATH\"=>\".\",\n \"LESSOPEN\"=>\"|lesspipe.sh %s\",\n \"PROMPT_COMMAND\"=>\"history -a\",\n \"INFOPATH\"=>\n  \"/usr/share/info:/usr/share/binutils-data/i686-pc-linux-gnu/2.18/info:/usr/share/gcc-data/i686-pc-linux-gnu/4.1.2/info\",\n \"RUBYOPT\"=>\"\",\n \"HISTTIMEFORMAT\"=>\"%F %T \"}\n\n[Wed, 19 Jun 2013 10:43:46 -0700] INFO: Release: 2009a.1_pre51\n make.conf updated\n[Wed, 19 Jun 2013 10:43:46 -0700] INFO: OpenSSL Version: 0.9.8x\n[Wed, 19 Jun 2013 10:43:47 -0700] INFO: Ran execute[ensure-user-switching-works] successfully\n[Wed, 19 Jun 2013 10:43:47 -0700] INFO: Ran execute[disassociate-time-from-hardware-clock] successfully\n[Wed, 19 Jun 2013 10:43:49 -0700] INFO: processing portage update\n[Wed, 19 Jun 2013 10:43:49 -0700] INFO: Ran execute[reporting for report_emerge_sync] successfully\n[Wed, 19 Jun 2013 10:43:50 -0700] INFO: Ran execute[synchronize portage] successfully\n[Wed, 19 Jun 2013 10:43:50 -0700] INFO: Ran execute[update eix index] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: service[sshd]: restarted successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[start-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[remove-sm-from-inittab] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[echo 'sm:345:respawn:/bin/ps -Af | awk '{print $3,$8}' | grep -q '^1 /usr/sbin/sshd$' || (/etc/init.d/sshd zap && /etc/init.d/sshd start); sleep 60' >> /etc/inittab] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[telinit-q] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[remove-cm-from-inittab] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[echo 'cm:345:respawn:/engineyard/bin/cron_nanny' >> /etc/inittab] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[telinit-q] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[echo '--- \ntoken: c58c2bdb-ad64-4178-8def-53876b581414\ncore_url: https://api.engineyard.com/\nbase_url: https://cloud.engineyard.com/instance_api\ninstance_id: 244191\n' > /etc/engineyard/instance_api.yml] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[remove-fs.file-max-in-sysctl] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[echo 'fs.file-max = 1048576' >> /etc/sysctl.conf] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[reload-sysctl] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[remove-net.core.somaxconn-in-sysctl] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[echo 'net.core.somaxconn = 65535' >> /etc/sysctl.conf] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[reload-sysctl] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[noop] successfully\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: processing unix packages\n[Wed, 19 Jun 2013 10:43:53 -0700] INFO: Ran execute[reporting for packages] successfully\n[Wed, 19 Jun 2013 10:43:55 -0700] INFO: processing appfirst\n[Wed, 19 Jun 2013 10:43:55 -0700] INFO: Ran execute[reporting for appfirst] successfully\n[Wed, 19 Jun 2013 10:43:56 -0700] INFO: Ran bash[Create appfirst tag] successfully\n[Wed, 19 Jun 2013 10:43:56 -0700] INFO: Ran bash[Exclude chef in process attach] successfully\n[Wed, 19 Jun 2013 10:43:56 -0700] INFO: Ran bash[Ensure appfirst permission] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran bash[Ensure appfirst is started] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran bash[Add to rc-update] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: processing users\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran execute[reporting for users] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran execute[update-username] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran execute[chown homedir to user] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran execute[clearing old crons] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Creating file[/tmp/cron_update_header] at /tmp/cron_update_header\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran execute[echo 'PATH=/bin:/usr/bin:/usr/local/ey_resin/bin\nRAILS_ENV=\"production\"\nRACK_ENV=\"production\"\n' > /tmp/cron_update_header] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran execute[add environment variables to cron] successfully\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Backing up file[/tmp/cron_update_header] to /tmp/cron_update_header.chef-20130619104357\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Removing backup of file[/tmp/cron_update_header] at /tmp/cron_update_header.chef-20130611151031\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Deleting file[/tmp/cron_update_header] at /tmp/cron_update_header\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Added cron 'ey-snapshots'\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Added cron 'nightly eix-sync'\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Added cron 'touch cron-check'\n[Wed, 19 Jun 2013 10:43:57 -0700] INFO: Ran execute[Ensure that cron_nanny is restarted by init with the latest version] successfully\n[Wed, 19 Jun 2013 10:43:58 -0700] INFO: Ran execute[write descriptive_hostname file] successfully\n[Wed, 19 Jun 2013 10:43:58 -0700] INFO: Ran execute[remove framework_env from /etc/profile] successfully\n[Wed, 19 Jun 2013 10:44:06 -0700] INFO: processing backups\n[Wed, 19 Jun 2013 10:44:06 -0700] INFO: Ran execute[reporting for backups] successfully\n[Wed, 19 Jun 2013 10:44:06 -0700] INFO: processing ssh keys\n[Wed, 19 Jun 2013 10:44:07 -0700] INFO: Ran execute[reporting for ssh keys] successfully\n[Wed, 19 Jun 2013 10:44:07 -0700] INFO: processing ruby_193\n[Wed, 19 Jun 2013 10:44:07 -0700] INFO: Ran execute[reporting for ruby install] successfully\n[Wed, 19 Jun 2013 10:44:08 -0700] INFO: Ran execute[remove-mirror-from-etc-hosts] successfully\n[Wed, 19 Jun 2013 10:44:08 -0700] INFO: Ran bash[Ensure correct gemrc permissions] successfully\n[Wed, 19 Jun 2013 10:44:12 -0700] INFO: Ran execute[eselect-ruby19-for-ruby] successfully\n[Wed, 19 Jun 2013 10:44:12 -0700] INFO: processing custom gems\n[Wed, 19 Jun 2013 10:44:12 -0700] INFO: Ran execute[reporting for custom gems] successfully\n[Wed, 19 Jun 2013 10:44:12 -0700] INFO: processing monit\n[Wed, 19 Jun 2013 10:44:13 -0700] INFO: Ran execute[reporting for monit] successfully\n[Wed, 19 Jun 2013 10:44:14 -0700] INFO: Ran execute[touch monitrc] successfully\n[Wed, 19 Jun 2013 10:44:14 -0700] INFO: Ran execute[remove-mo-from-inittab] successfully\n[Wed, 19 Jun 2013 10:44:14 -0700] INFO: Ran execute[echo 'mo:345:respawn:/usr/local/bin/monit -Ic /etc/monitrc' >> /etc/inittab] successfully\n[Wed, 19 Jun 2013 10:44:14 -0700] INFO: Ran execute[telinit-q] successfully\n[Wed, 19 Jun 2013 10:44:14 -0700] INFO: Ran execute[remove-m0-from-inittab] successfully\n[Wed, 19 Jun 2013 10:44:14 -0700] INFO: Ran execute[echo 'm0:06:wait:/usr/local/bin/monit -Ic /etc/monitrc stop all' >> /etc/inittab] successfully\n[Wed, 19 Jun 2013 10:44:14 -0700] INFO: Ran execute[telinit-q] successfully\n[Wed, 19 Jun 2013 10:44:15 -0700] INFO: Ran execute[fix the permissions] successfully\n[Wed, 19 Jun 2013 10:44:16 -0700] INFO: processing mysql\n[Wed, 19 Jun 2013 10:44:16 -0700] INFO: Ran execute[reporting for mysql] successfully\n[Wed, 19 Jun 2013 10:44:16 -0700] INFO: installing mysql 5.0.51\n[Wed, 19 Jun 2013 10:44:17 -0700] INFO: Ran execute[reporting for mysql] successfully\n[Wed, 19 Jun 2013 10:44:17 -0700] INFO: processing mysql\n[Wed, 19 Jun 2013 10:44:17 -0700] INFO: Ran execute[reporting for mysql] successfully\n[Wed, 19 Jun 2013 10:44:17 -0700] INFO: starting mysql\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Ran execute[reporting for report starting mysql] successfully\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Ran execute[set-root-mysql-pass] successfully\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Creating template[/tmp/mysql-cleanup.sql] at /tmp/mysql-cleanup.sql\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Setting owner to 0 for template[/tmp/mysql-cleanup.sql]\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Setting group to 0 for template[/tmp/mysql-cleanup.sql]\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Setting mode to 644 for template[/tmp/mysql-cleanup.sql]\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Ran execute[create-database-for-mysql-cleanup] successfully\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Ran execute[echo '--- \nkeep: 2\n' > /etc/engineyard/binlogpurge.yml] successfully\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Added cron 'binary_log_purge'\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Creating template[/tmp/create.weekendsignupcalendar.sql] at /tmp/create.weekendsignupcalendar.sql\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Setting owner to 0 for template[/tmp/create.weekendsignupcalendar.sql]\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Setting group to 0 for template[/tmp/create.weekendsignupcalendar.sql]\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Setting mode to 644 for template[/tmp/create.weekendsignupcalendar.sql]\n[Wed, 19 Jun 2013 10:44:18 -0700] INFO: Ran execute[create-database-for-weekendsignupcalendar] successfully\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: Added cron 'mysql'\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: Creating template[/tmp/root_perms.sql] at /tmp/root_perms.sql\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: Setting owner to 0 for template[/tmp/root_perms.sql]\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: Setting group to 0 for template[/tmp/root_perms.sql]\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: Setting mode to 644 for template[/tmp/root_perms.sql]\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: Ran execute[create-database-for-locks] successfully\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: processing mysql monitoring\n[Wed, 19 Jun 2013 10:44:19 -0700] INFO: Ran execute[reporting for mysql monitoring] successfully\n[Wed, 19 Jun 2013 10:44:20 -0700] INFO: processing performance monitoring\n[Wed, 19 Jun 2013 10:44:21 -0700] INFO: Ran execute[reporting for collectd] successfully\n[Wed, 19 Jun 2013 10:44:21 -0700] INFO: Ran execute[monit reload] successfully\n[Wed, 19 Jun 2013 10:44:27 -0700] INFO: Ran execute[install-http-auth] successfully\n[Wed, 19 Jun 2013 10:44:27 -0700] INFO: Ran execute[remove-cd-from-inittab] successfully\n[Wed, 19 Jun 2013 10:44:27 -0700] INFO: Ran execute[echo 'cd:345:respawn:/usr/sbin/collectd -C /etc/engineyard/collectd.conf -f' >> /etc/inittab] successfully\n[Wed, 19 Jun 2013 10:44:27 -0700] INFO: Ran execute[telinit-q] successfully\n[Wed, 19 Jun 2013 10:44:27 -0700] INFO: Ran execute[ensure-collectd-has-fresh-config] successfully\n[Wed, 19 Jun 2013 10:44:31 -0700] INFO: Updating remote_file[/etc/engineyard/binlogpurge.yml] at /etc/engineyard/binlogpurge.yml\n[Wed, 19 Jun 2013 10:44:31 -0700] INFO: Backing up remote_file[/etc/engineyard/binlogpurge.yml] to /etc/engineyard/binlogpurge.yml.chef-20130619104431\n[Wed, 19 Jun 2013 10:44:31 -0700] INFO: Removing backup of remote_file[/etc/engineyard/binlogpurge.yml] at /etc/engineyard/binlogpurge.yml.chef-20130611151103\n[Wed, 19 Jun 2013 10:44:31 -0700] INFO: Updated cron 'binary_log_purge'\n[Wed, 19 Jun 2013 10:44:31 -0700] INFO: Checking System Swap\n[Wed, 19 Jun 2013 10:44:31 -0700] INFO: Ran execute[reporting for processing swap] successfully\n[Wed, 19 Jun 2013 10:44:31 -0700] INFO: processing zsh - install\n[Wed, 19 Jun 2013 10:44:32 -0700] INFO: Ran execute[reporting for processing zsh] successfully\n[Wed, 19 Jun 2013 10:44:33 -0700] INFO: Ran execute[eselect-0.8.11-for-nodejs] successfully\n[Wed, 19 Jun 2013 10:44:34 -0700] INFO: Ran execute[env-update] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran bash[install ey_node_app_info] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Deleting file[/usr/local/bin/ey_node_app_info] at /usr/local/bin/ey_node_app_info\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Creating a symbolic link from /opt/nodejs/0.8.11/bin/ey_node_app_info -> /usr/local/bin/ey_node_app_info for link[/usr/local/bin/ey_node_app_info]\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Updating file[/etc/engineyard/recipe-revision.txt] with new atime/mtime of Wed Jun 19 10:44:35 -0700 2013\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran bash[add-chef-dracul-revision-sha] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[cleanup-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[cleanup-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[cleanup-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[cleanup-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[create-database-for-locks] sending run action to execute[remove-lock-sql-file] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[remove-lock-sql-file] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[cleanup-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[cleanup-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[rotate-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[rotate-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[create-database-for-mysql-cleanup] sending run action to execute[remove-database-file-for-mysql-cleanup] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[remove-database-file-for-mysql-cleanup] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[create-database-for-weekendsignupcalendar] sending run action to execute[remove-database-file-for-weekendsignupcalendar] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[remove-database-file-for-weekendsignupcalendar] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[rotate-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[rotate-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[rotate-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[rotate-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[cleanup-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[cleanup-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[start-backup-inittab] sending run action to execute[cleanup-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: Ran execute[cleanup-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:35 -0700] INFO: execute[noop] sending run action to execute[restart-atd] (delayed)\n[Wed, 19 Jun 2013 10:44:36 -0700] INFO: Ran execute[restart-atd] successfully\n[Wed, 19 Jun 2013 10:44:36 -0700] INFO: execute[start-backup-inittab] sending run action to execute[rotate-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:36 -0700] INFO: Ran execute[rotate-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:36 -0700] INFO: execute[start-backup-inittab] sending run action to execute[rotate-backup-inittab] (delayed)\n[Wed, 19 Jun 2013 10:44:36 -0700] INFO: Ran execute[rotate-backup-inittab] successfully\n[Wed, 19 Jun 2013 10:44:36 -0700] INFO: Chef Run complete in 50.903485 seconds\n","custom":null}}}
